/*!
 * cxSlide 2.0.2
 * http://code.ciaoca.com/
 * https://github.com/ciaoca/cxSlide
 * E-mail: ciaoca@gmail.com
 * Released under the MIT license
 * Date: 2016-01-14
 */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){a.cxSlide=function(){var b={dom:{},api:{}};return b.init=function(){var c,d,g,h,b=this,e=function(a){return a&&("function"==typeof HTMLElement||"object"==typeof HTMLElement)&&a instanceof HTMLElement?!0:a&&a.nodeType&&1===a.nodeType?!0:!1},f=function(a){return a&&a.length&&("function"==typeof jQuery||"object"==typeof jQuery)&&a instanceof jQuery?!0:!1};for(g=0,h=arguments.length;h>g;g++)f(arguments[g])?b.dom.el=arguments[g]:e(arguments[g])?b.dom.el=a(arguments[g]):"function"==typeof arguments[g]?d=arguments[g]:"object"==typeof arguments[g]&&(c=arguments[g]);b.dom.el.length&&(b.settings=a.extend({},a.cxSlide.defaults,c),b.build(),b.api={play:function(){b.settings.auto=!0,b.play()},stop:function(){b.settings.auto=!1,b.stop()},"goto":function(){b.goto.apply(b,arguments)},prev:function(){b.goto(b.now-1)},next:function(){b.goto()}},"function"==typeof d&&d(b.api))},b.build=function(){var c,d,b=this;if(b.dom.box=b.dom.el.find(".box"),b.dom.list=b.dom.box.find(".list"),b.dom.items=b.dom.list.find("li"),b.itemSum=b.dom.items.length,b.baseClass=b.dom.el.attr("class"),!(b.itemSum<=1)){if(b.dom.numList=b.dom.el.find(".btn"),b.dom.numBtns=b.dom.numList.find("li"),b.dom.plusBtn=b.dom.el.find(".plus"),b.dom.minusBtn=b.dom.el.find(".minus"),b.boxWidth=b.dom.box.width(),b.boxHeight=b.dom.box.height(),b.now=0,b.settings.btn&&!b.dom.numList.length){for(c="",d=1;d<=b.itemSum;d++)c+='<li class="b_'+d+'">'+d+"</li>";b.dom.numList=a("<ul></ul>",{"class":"btn",html:c}).appendTo(b.dom.el),b.dom.numBtns=b.dom.numList.find("li")}b.settings.plus&&!b.dom.plusBtn.length&&(b.dom.plusBtn=a("<div></div>",{"class":"plus"}).appendTo(b.dom.el)),b.settings.minus&&!b.dom.minusBtn.length&&(b.dom.minusBtn=a("<div></div>",{"class":"minus"}).appendTo(b.dom.el)),b.settings.hoverLock&&(b.dom.box.on("mouseenter",function(){b.stop()}),b.dom.box.on("mouseleave",function(){b.play()})),b.settings.btn&&b.dom.numList.on(b.settings.events,"li",function(){b.goto(a(this).index())}),b.settings.minus&&b.dom.minusBtn.on(b.settings.events,function(){b.goto(b.now-1)}),b.settings.plus&&b.dom.plusBtn.on(b.settings.events,function(){b.goto()}),b.goto(b.settings.start)}},b.play=function(){var a=this;a.settings.auto&&(a.stop(),a.run=setTimeout(function(){a.goto()},a.settings.time))},b.stop=function(){"undefined"!=typeof this.run&&clearTimeout(this.run)},b.goto=function(a){var f,b=this,c="undefined"==typeof a?b.now+1:parseInt(a,10),d=b.now,e=b.itemSum-1;if(c>e?c=0:0>c&&(c=e),b.dom.numList.length&&b.dom.numBtns.removeClass("in out selected"),b.stop(),b.dom.el.attr("class",b.baseClass+" to_"+c),d===c)return b.dom.numBtns.eq(c).addClass("in selected"),b.dom.items.eq(c).addClass("in"),b.play(),void 0;switch(b.dom.numBtns.eq(d).addClass("out").end().eq(c).addClass("in selected"),b.dom.items.removeClass("in out").eq(d).addClass("out").end().eq(c).addClass("in"),b.settings.type){case"fade":b.dom.items.css({display:"none",position:"absolute",top:0,left:0,zIndex:""}),b.dom.items.eq(d).css({display:"",zIndex:1}),b.dom.items.eq(c).css({zIndex:2}).fadeIn(b.settings.speed);break;case"toggle":b.dom.items.hide().eq(c).show();break;case"x":f=b.boxWidth*c,0===c&&d===e?(b.dom.items.eq(0).css({left:b.boxWidth*b.itemSum}),f=b.boxWidth*b.itemSum):0===d&&(b.dom.items.eq(0).css({left:""}),b.dom.box.scrollLeft(0)),b.dom.box.stop(!0,!1).animate({scrollLeft:f},b.settings.speed);break;case"y":f=b.boxHeight*c,0===c&&d===e?(b.dom.items.eq(0).css({top:b.boxHeight*b.itemSum}),f=b.boxHeight*b.itemSum):0===d&&(b.dom.items.eq(0).css({top:""}),b.dom.box.scrollTop(0)),b.dom.box.stop(!0,!1).animate({scrollTop:f},b.settings.speed)}b.now=c,b.dom.box.queue(function(){b.play(),b.dom.box.dequeue()})},b.init.apply(b,arguments),this},a.cxSlide.defaults={events:"click",type:"x",start:0,speed:800,time:5e3,auto:!0,hoverLock:!0,btn:!0,plus:!1,minus:!1},a.fn.cxSlide=function(b,c){return this.each(function(){a.cxSlide(this,b,c)}),this}});